import { Meta } from '@storybook/blocks';

<Meta title="Regras de NegÃ³cio/PermissÃµes" />

# Regras de PermissÃµes e PapÃ©is

## VisÃ£o Geral

Este documento define os papÃ©is (roles) disponÃ­veis na plataforma e suas permissÃµes especÃ­ficas.

---

## Matriz de PermissÃµes

| Recurso | Aluno | Professor | Coordenador | Administrador |
|---------|-------|-----------|-------------|---------------|
| **Cursos** |
| Visualizar cursos disponÃ­veis | âœ… | âœ… | âœ… | âœ… |
| Matricular-se | âœ… | âŒ | âŒ | âœ… |
| Criar curso | âŒ | âŒ | âœ… | âœ… |
| Editar curso | âŒ | ğŸ”¸Â¹ | âœ… | âœ… |
| Excluir curso | âŒ | âŒ | âœ… | âœ… |
| **ConteÃºdo** |
| Visualizar materiais | âœ… | âœ… | âœ… | âœ… |
| Fazer upload de materiais | âŒ | âœ… | âœ… | âœ… |
| Aprovar materiais | âŒ | âŒ | âœ… | âœ… |
| **AvaliaÃ§Ãµes** |
| Fazer provas | âœ… | âŒ | âŒ | âŒ |
| Criar avaliaÃ§Ãµes | âŒ | âœ… | âœ… | âœ… |
| LanÃ§ar notas | âŒ | âœ… | âœ… | âœ… |
| Visualizar notas | âœ…Â² | âœ…Â³ | âœ…â´ | âœ… |
| **UsuÃ¡rios** |
| Visualizar prÃ³prio perfil | âœ… | âœ… | âœ… | âœ… |
| Editar prÃ³prio perfil | âœ… | âœ… | âœ… | âœ… |
| Visualizar outros usuÃ¡rios | ğŸ”¸âµ | âœ…â¶ | âœ… | âœ… |
| Criar usuÃ¡rios | âŒ | âŒ | ğŸ”¸â· | âœ… |
| Desativar usuÃ¡rios | âŒ | âŒ | âŒ | âœ… |
| **RelatÃ³rios** |
| RelatÃ³rio individual | âœ… | âœ… | âœ… | âœ… |
| RelatÃ³rio de turma | âŒ | âœ… | âœ… | âœ… |
| RelatÃ³rio institucional | âŒ | âŒ | âœ… | âœ… |

**Legenda**:
- âœ… Permitido
- âŒ Negado
- ğŸ”¸ Permitido com restriÃ§Ãµes (ver notas)

---

## Notas das RestriÃ§Ãµes

1. **Professor editar curso**: Apenas cursos onde Ã© instrutor principal
2. **Aluno visualizar notas**: Apenas prÃ³prias notas
3. **Professor visualizar notas**: Apenas de turmas onde leciona
4. **Coordenador visualizar notas**: Apenas de coordenadoria sob sua gestÃ£o
5. **Aluno visualizar outros**: Apenas colegas da mesma turma
6. **Professor visualizar outros**: Apenas alunos de suas turmas
7. **Coordenador criar usuÃ¡rios**: Apenas professores e alunos, nÃ£o outros coordenadores

---

## DefiniÃ§Ã£o de PapÃ©is

### ğŸ”µ Aluno

**DescriÃ§Ã£o**: UsuÃ¡rio que consome conteÃºdo educacional.

**PermissÃµes principais**:
- Matricular-se em cursos disponÃ­veis
- Acessar materiais didÃ¡ticos
- Realizar avaliaÃ§Ãµes
- Visualizar prÃ³prio desempenho
- Interagir em fÃ³runs e atividades

**RestriÃ§Ãµes**:
- NÃ£o pode acessar conteÃºdo de cursos onde nÃ£o estÃ¡ matriculado
- NÃ£o pode visualizar notas de outros alunos
- NÃ£o pode editar configuraÃ§Ãµes de curso

---

### ğŸŸ¢ Professor

**DescriÃ§Ã£o**: UsuÃ¡rio responsÃ¡vel por lecionar e avaliar.

**PermissÃµes principais**:
- Gerenciar conteÃºdo de suas disciplinas
- Criar e corrigir avaliaÃ§Ãµes
- LanÃ§ar notas e frequÃªncias
- Visualizar lista de alunos
- Gerar relatÃ³rios de turma

**RestriÃ§Ãµes**:
- NÃ£o pode editar cursos onde nÃ£o Ã© instrutor
- NÃ£o pode aprovar conteÃºdo (requer coordenador)
- NÃ£o pode alterar estrutura curricular
- NÃ£o pode acessar dados de alunos de outras turmas

**Regras especiais**:
- RN-PERM-001: Professor substituto herda permissÃµes do titular
- RN-PERM-002: Professor pode delegar correÃ§Ã£o para monitores (com aprovaÃ§Ã£o coordenador)

---

### ğŸŸ¡ Coordenador

**DescriÃ§Ã£o**: Gestor acadÃªmico de cursos ou Ã¡reas.

**PermissÃµes principais**:
- Criar e estruturar cursos
- Aprovar conteÃºdo de professores
- Gerenciar professores e alunos de sua Ã¡rea
- Acessar relatÃ³rios consolidados
- Configurar parÃ¢metros de avaliaÃ§Ã£o

**RestriÃ§Ãµes**:
- NÃ£o pode criar outros coordenadores
- NÃ£o pode acessar configuraÃ§Ãµes globais do sistema
- NÃ£o pode desativar usuÃ¡rios (apenas administrador)
- Escopo limitado a cursos sob sua coordenadoria

**Regras especiais**:
- RN-PERM-003: Coordenador pode ter mÃºltiplas coordenadorias
- RN-PERM-004: AprovaÃ§Ã£o de conteÃºdo nÃ£o pode ser feita pelo prÃ³prio criador

---

### ğŸ”´ Administrador

**DescriÃ§Ã£o**: Gestor tÃ©cnico do sistema com acesso total.

**PermissÃµes principais**:
- Acesso completo ao sistema
- Criar e desativar usuÃ¡rios de qualquer papel
- Configurar parÃ¢metros globais
- Acessar logs e auditoria
- Gerenciar integraÃ§Ãµes

**RestriÃ§Ãµes**:
- AÃ§Ãµes crÃ­ticas requerem MFA (RN-AUTH-008)
- Algumas aÃ§Ãµes requerem justificativa obrigatÃ³ria

**Regras especiais**:
- RN-PERM-005: Deve haver no mÃ­nimo 2 administradores ativos
- RN-PERM-006: Administrador nÃ£o pode se auto-remover
- RN-PERM-007: Todas as aÃ§Ãµes sÃ£o auditadas com log permanente

---

## Regras de TransiÃ§Ã£o de PapÃ©is

### ğŸ”’ RN-PERM-008: PromoÃ§Ã£o de Papel

**DescriÃ§Ã£o**: Processo para alterar papel de usuÃ¡rio.

**Regras**:
- Apenas administrador pode promover usuÃ¡rios
- PromoÃ§Ã£o para coordenador requer aprovaÃ§Ã£o de outro coordenador
- PromoÃ§Ã£o para administrador requer aprovaÃ§Ã£o de 2 administradores
- Sistema envia notificaÃ§Ã£o para o usuÃ¡rio promovido
- UsuÃ¡rio deve reautenticar apÃ³s mudanÃ§a de papel

---

### âš ï¸ RN-PERM-009: Rebaixamento de Papel

**DescriÃ§Ã£o**: Processo para reduzir permissÃµes.

**Regras**:
- Apenas administrador pode rebaixar papÃ©is
- Rebaixamento requer justificativa obrigatÃ³ria
- SessÃµes ativas sÃ£o encerradas imediatamente
- UsuÃ¡rio Ã© notificado por email
- AÃ§Ã£o Ã© auditada permanentemente

---

### â„¹ï¸ RN-PERM-010: AcÃºmulo de PapÃ©is

**DescriÃ§Ã£o**: UsuÃ¡rio pode ter mÃºltiplos papÃ©is.

**CenÃ¡rios permitidos**:
- Professor pode ser Coordenador
- Professor pode ser Aluno (cursos de formaÃ§Ã£o)
- Coordenador pode ser Professor

**CenÃ¡rio bloqueado**:
- Administrador nÃ£o pode ter outros papÃ©is (separaÃ§Ã£o de responsabilidades)

**Regra de acesso**: Sistema sempre aplica permissÃ£o mais restritiva quando hÃ¡ conflito.

---

## PermissÃµes Especiais

### ğŸ”¸ RN-PERM-011: PermissÃµes TemporÃ¡rias

**DescriÃ§Ã£o**: Administrador pode conceder permissÃµes temporÃ¡rias.

**Uso**:
- Professor substituto
- Acesso temporÃ¡rio para auditoria
- PermissÃµes de fÃ©rias/licenÃ§a

**Regras**:
- MÃ¡ximo 90 dias
- Sistema revoga automaticamente
- Todas as aÃ§Ãµes sÃ£o auditadas
- Email de confirmaÃ§Ã£o no inÃ­cio e fim

---

### ğŸ”¸ RN-PERM-012: HeranÃ§a de PermissÃµes

**DescriÃ§Ã£o**: Alguns contextos herdam permissÃµes.

**Exemplo**:
- Monitor herda permissÃµes limitadas do professor para correÃ§Ã£o
- Tutor herda permissÃµes do coordenador para acompanhamento

**Regra**: HeranÃ§a nunca ultrapassa o papel original.

---

## Auditoria

### ğŸ”’ RN-PERM-013: Registro de AÃ§Ãµes

**DescriÃ§Ã£o**: Sistema registra todas as aÃ§Ãµes sensÃ­veis.

**InformaÃ§Ãµes registradas**:
- UsuÃ¡rio que executou
- Data/hora
- IP de origem
- AÃ§Ã£o realizada
- Dados alterados (antes/depois)

**RetenÃ§Ã£o**: 5 anos para conformidade com LGPD.

---

## ReferÃªncias

- **Regras de NegÃ³cio**: [AutenticaÃ§Ã£o](../?path=/docs/regras-de-negÃ³cio-autenticaÃ§Ã£o--docs)
- **Jornadas**: [GestÃ£o de UsuÃ¡rios](../?path=/docs/jornadas-gestao-usuarios--docs)
- **Casos de Uso**: [UC-005: Alterar Papel de UsuÃ¡rio](../?path=/docs/casos-de-uso-usuarios--docs)

---

**Ãšltima atualizaÃ§Ã£o**: 14 de janeiro de 2026  
**ResponsÃ¡vel**: Equipe de Produto  
**RevisÃ£o**: Trimestral
