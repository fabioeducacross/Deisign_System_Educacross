import { Meta } from '@storybook/blocks';
import { MermaidDiagram } from '../../src/components/MermaidDiagram';

<Meta title="Funcionalidades/Miss√µes/Reenviar Expirada" />

# Como Reenviar Miss√£o Expirada

## Vis√£o Geral

Quando uma miss√£o atinge a **data de expira√ß√£o**, os alunos n√£o podem mais acess√°-la. Por√©m, se voc√™ deseja **dar uma segunda chance** ou **reaplicar a mesma miss√£o**, √© poss√≠vel reenvi√°-la sem precisar criar do zero.

**Importante**: N√£o h√° bot√£o direto de "Reenviar". O processo funciona atrav√©s do recurso de **compartilhamento**.

---

## Por Que Miss√µes Expiram?

### Fun√ß√£o da Data de Expira√ß√£o

<MermaidDiagram chart={`timeline
    title Ciclo de Vida de uma Miss√£o
    Cria√ß√£o : Professor cria : Define data de in√≠cio e fim
    Ativa : Alunos podem jogar : Per√≠odo entre in√≠cio e fim
    Expirada : Data de fim passou : Alunos n√£o conseguem mais acessar
    Arquivada : Professor arquiva : Sai da lista principal
`} />

**Por que expira**:
- ‚úÖ Mant√©m relev√¢ncia pedag√≥gica (conte√∫do do momento)
- ‚úÖ Evita sobrecarga de miss√µes antigas acumuladas
- ‚úÖ Delimita ciclos de aprendizagem (bimestres, semanas)
- ‚úÖ Cria senso de urg√™ncia (motiva√ß√£o)

---

## Quando Reenviar uma Miss√£o?

### Situa√ß√µes Comuns

| Cen√°rio | Por qu√™? |
|---------|----------|
| **Aluno faltou muito** | N√£o teve tempo de fazer no prazo original |
| **Greve/feriados prolongados** | Prazo ficou curto, turma toda precisa refazer |
| **Resultado ruim** | Muitos alunos foram mal, professor quer dar segunda chance |
| **Refor√ßo** | Ap√≥s revis√£o de conte√∫do, reaplicar mesma atividade |
| **Nova turma** | Usar miss√£o bem-sucedida com outra turma no ano seguinte |

---

## Como Funciona o Reenvio

### Workflow Visual

<div style={{
  display: 'flex',
  flexDirection: 'column',
  gap: '1.5rem',
  marginTop: '1.5rem',
  marginBottom: '2rem'
}}>

<div>
<img 
  src="/Design_System_Educacross/images/missoes/reenviar-1.png" 
  alt="Bot√£o 'Compartilhar' na lista de miss√µes para iniciar processo de reenvio"
  style={{
    maxWidth: '800px',
    width: '100%',
    height: 'auto',
    border: '1px solid var(--color-neutral-200)',
    borderRadius: '8px',
    boxShadow: '0 2px 4px rgba(0,0,0,0.1)'
  }}
/>
</div>

<div>
<img 
  src="/Design_System_Educacross/images/missoes/reenviar-2.png" 
  alt="Modal de compartilhamento com op√ß√£o 'Somente Eu' selecionada"
  style={{
    maxWidth: '800px',
    width: '100%',
    height: 'auto',
    border: '1px solid var(--color-neutral-200)',
    borderRadius: '8px',
    boxShadow: '0 2px 4px rgba(0,0,0,0.1)'
  }}
/>
</div>

<div>
<img 
  src="/Design_System_Educacross/images/missoes/reenviar-3.png" 
  alt="Aba 'Miss√µes Compartilhadas' com filtro 'Somente Eu' para encontrar miss√£o"
  style={{
    maxWidth: '800px',
    width: '100%',
    height: 'auto',
    border: '1px solid var(--color-neutral-200)',
    borderRadius: '8px',
    boxShadow: '0 2px 4px rgba(0,0,0,0.1)'
  }}
/>
<img 
  src="/Design_System_Educacross/images/missoes/reenviar-4.png" 
  alt="Lista de miss√µes expiradas compartilhadas consigo mesmo"
  style={{
    maxWidth: '800px',
    width: '100%',
    height: 'auto',
    border: '1px solid var(--color-neutral-200)',
    borderRadius: '8px',
    boxShadow: '0 2px 4px rgba(0,0,0,0.1)'
  }}
/>
<img 
  src="/Design_System_Educacross/images/missoes/reenviar-5.png" 
  alt="Bot√£o 'Usar Miss√£o' para recriar miss√£o com novas datas e destinat√°rios"
  style={{
    maxWidth: '800px',
    width: '100%',
    height: 'auto',
    border: '1px solid var(--color-neutral-200)',
    borderRadius: '8px',
    boxShadow: '0 2px 4px rgba(0,0,0,0.1)'
  }}
/>
</div>

</div>

---

### Fluxo Simplificado

<MermaidDiagram chart={`flowchart LR
    A[Miss√£o expira] --> B[Professor compartilha com si mesmo]
    B --> C[Busca em 'Miss√µes Compartilhadas']
    C --> D[Clica em 'Usar Miss√£o']
    D --> E[Ajusta datas e destinat√°rios]
    E --> F[Envia novamente]
    F --> G[Alunos t√™m nova chance]
    
    style A fill:#FFB6C1
    style G fill:#90EE90
`} />

<div style={{
  padding: '1rem',
  border: '1px solid var(--color-info-200)',
  borderRadius: '8px',
  backgroundColor: 'var(--color-info-8)',
  marginTop: '1rem'
}}>

**üí° Conceito-chave**: Reenviar = Compartilhar com voc√™ mesmo + Usar como template.

</div>

---

## Passo a Passo Completo

### Etapa 1: Compartilhar a Miss√£o Expirada

1. Acesse **"Miss√µes"**
2. Localize a miss√£o expirada (pode estar arquivada)
   - Se arquivada: Clique em **"Ver Arquivadas"**
3. Na coluna **"A√ß√µes"**, clique no √≠cone de **compartilhar** (üîó)
4. Selecione **"Somente eu"**
5. Confirme o compartilhamento

**O que aconteceu**: A miss√£o foi adicionada √† sua biblioteca pessoal de miss√µes compartilhadas.

---

### Etapa 2: Acessar Miss√µes Compartilhadas

1. Clique em **"Miss√µes"**
2. Clique em **"Nova Miss√£o"**
3. Selecione **"Miss√£o Compartilhada"**
4. No filtro, escolha **"Somente eu"**
5. Localize a miss√£o que voc√™ acabou de compartilhar
   - Dica: Use o campo de busca pelo nome

---

### Etapa 3: Usar a Miss√£o Como Template

1. Ao encontrar a miss√£o, clique em **"Usar Miss√£o"**
2. Sistema abre formul√°rio de cria√ß√£o **j√° preenchido** com:
   - ‚úÖ Mesmos jogos
   - ‚úÖ Mesma ordem
   - ‚úÖ Mesma configura√ß√£o (fluxo, ranking, etc.)
   - ‚ùå Nome (vir√° como "C√≥pia de [nome original]")
   - ‚ùå Datas (vazias para voc√™ definir novas)
   - ‚ùå Destinat√°rios (vazios para voc√™ escolher)

---

### Etapa 4: Personalizar o Reenvio

**Ajuste os campos necess√°rios**:

| Campo | O que fazer |
|-------|-------------|
| **Nome** | Altere se quiser (ex: "Tabuada - 2¬™ Chance") |
| **Destinat√°rios** | Escolha: mesma turma ou diferentes alunos |
| **Data de in√≠cio** | Defina nova data (pode ser hoje) |
| **Data de fim** | Defina novo prazo |
| **Jogos** | J√° v√™m selecionados (pode adicionar/remover) |
| **Fluxo** | J√° vem configurado (pode alterar) |
| **Ranking** | J√° vem configurado (pode alterar) |

**Recomenda√ß√£o**: Se for dar segunda chance para mesmos alunos, altere o nome para deixar claro (ex: "Revis√£o" ou "2¬™ tentativa").

---

### Etapa 5: Enviar

1. Revise todas as configura√ß√µes
2. Clique em **"Criar Miss√£o"**
3. Escolha:
   - **Enviar agora**: Alunos recebem imediatamente
   - **Enviar depois**: Fica salva para voc√™ enviar manualmente

**Pronto!** Miss√£o foi reenviada. Alunos recebem notifica√ß√£o e podem jogar novamente.

---

## Diagrama Completo do Processo

<MermaidDiagram chart={`sequenceDiagram
    participant P as Professor
    participant S as Sistema
    participant A as Alunos
    
    Note over P,A: Miss√£o Original Expira
    P->>S: Compartilha miss√£o expirada (Somente eu)
    S->>S: Adiciona √† biblioteca pessoal
    P->>S: Acessa Nova Miss√£o ‚Üí Compartilhada ‚Üí Somente eu
    S->>P: Exibe lista de miss√µes compartilhadas
    P->>S: Clica em "Usar Miss√£o"
    S->>P: Abre formul√°rio preenchido
    P->>S: Ajusta datas e destinat√°rios
    S->>P: Valida dados
    P->>S: Clica em "Enviar"
    S->>A: Notifica alunos
    A->>S: Acessam miss√£o
    Note over A,S: Alunos jogam novamente
`} />

---

## Casos de Uso

### Caso 1: Aluno Faltou Durante Prazo Original

**Situa√ß√£o**: Maria esteve doente a semana toda e n√£o fez a miss√£o.

**A√ß√£o**:
1. Professor compartilha miss√£o original com si mesmo
2. Busca em "Miss√µes Compartilhadas"
3. Usa miss√£o
4. **Destinat√°rio**: Seleciona **apenas Maria** (individual)
5. Define novo prazo (1 semana para recuperar)
6. Envia

**Resultado**: Maria recebe miss√£o exclusiva s√≥ para ela, sem que turma toda precise refazer.

---

### Caso 2: Turma Inteira Teve Resultado Ruim

**Situa√ß√£o**: Apenas 30% dos alunos conclu√≠ram, a maioria n√£o entendeu o conte√∫do.

**A√ß√£o**:
1. Professor refaz explica√ß√£o do conte√∫do em aula presencial
2. Compartilha miss√£o expirada consigo mesmo
3. Usa miss√£o
4. **Destinat√°rio**: Seleciona **a turma toda**
5. **Nome**: Altera para "Tabuada - Revis√£o"
6. Define novo prazo (3-5 dias)
7. Envia

**Resultado**: Turma tem segunda chance ap√≥s refor√ßo do conte√∫do.

---

### Caso 3: Usar Com Nova Turma No Ano Seguinte

**Situa√ß√£o**: Miss√£o funcionou muito bem no ano passado, professor quer usar com turma nova.

**A√ß√£o**:
1. Busca miss√£o arquivada do ano anterior
2. Compartilha consigo mesmo
3. Usa miss√£o
4. **Destinat√°rio**: Seleciona **nova turma** (3¬∫ B de 2026)
5. Ajusta datas para calend√°rio atual
6. Envia

**Resultado**: Economia de tempo. N√£o precisa criar miss√£o do zero.

---

## Alternativas ao Reenvio

### Quando N√ÉO Reenviar

Em alguns casos, pode ser melhor **criar nova miss√£o** ao inv√©s de reenviar:

| Cen√°rio | Melhor Op√ß√£o | Por qu√™? |
|---------|--------------|----------|
| Jogos ficaram desatualizados | **Criar nova** | Novos jogos dispon√≠veis |
| Alunos memorizaram respostas | **Criar nova** | Evitar "cola" da mem√≥ria |
| Conte√∫do mudou | **Criar nova** | Curr√≠culo/m√©todo diferente |
| Poucos ajustes necess√°rios | **Reenviar** | Economiza tempo |
| Mesma atividade, nova turma | **Reenviar** | Funciona perfeitamente |

---

## Vantagens do M√©todo de Reenvio

### ‚úÖ Benef√≠cios

1. **Economia de tempo**: N√£o precisa recriar do zero
2. **Consist√™ncia**: Mesmos jogos e configura√ß√µes
3. **Hist√≥rico preservado**: Dados da miss√£o original n√£o s√£o perdidos
4. **Flexibilidade**: Pode ajustar o que quiser (datas, destinat√°rios, nome)
5. **Organiza√ß√£o**: Mant√©m biblioteca pessoal de miss√µes bem-sucedidas

---

## Boas Pr√°ticas

### ‚úÖ Recomenda√ß√µes

1. **Altere o nome**: Diferencie original da reenviada (ex: "Tabuada v2")
2. **Prazo adequado**: D√™ tempo suficiente para alunos fazerem
3. **Comunique o motivo**: Explique aos alunos por que est√£o recebendo novamente
4. **Acompanhe de perto**: Alunos que j√° falharam podem precisar de suporte extra
5. **Compartilhe consigo mesmo regularmente**: Crie biblioteca de miss√µes favoritas

### ‚ö†Ô∏è Evite

1. **Reenviar demais**: Perde o efeito de prazo/urg√™ncia
2. **Mesmo prazo curto**: Se na primeira vez foi pouco, aumente
3. **N√£o explicar**: Alunos podem ficar confusos ao ver miss√£o "repetida"

---

## Compara√ß√£o: Reenviar vs Criar Nova

| Aspecto | Reenviar (Compartilhar) | Criar Nova |
|---------|-------------------------|------------|
| **Tempo** | ‚ö° R√°pido (5 min) | üïê Mais lento (15-30 min) |
| **Jogos** | ‚úÖ J√° selecionados | üîç Precisa buscar novamente |
| **Configura√ß√£o** | ‚úÖ J√° definida | ‚öôÔ∏è Precisa configurar |
| **Flexibilidade** | ‚≠ê‚≠ê M√©dia | ‚≠ê‚≠ê‚≠ê Total |
| **Quando usar** | Miss√£o funcionou bem | Quer mudan√ßas significativas |

---

## Troubleshooting

### Problema: N√£o encontro miss√£o expirada para compartilhar

**Causa**: Miss√£o pode estar arquivada.

**Solu√ß√£o**:
1. Clique em "Ver Arquivadas"
2. Localize a miss√£o
3. Compartilhe a partir da√≠

---

### Problema: Compartilhei mas n√£o aparece em "Miss√µes Compartilhadas"

**Verifica√ß√µes**:
1. Voc√™ selecionou "Somente eu"? (N√£o "Escola" ou "Rede")
2. Est√° filtrando por "Somente eu" na busca?
3. Usou o nome correto na busca?

**Solu√ß√£o**: Tente compartilhar novamente e verifique os filtros.

---

### Problema: Alunos reclamam que √© a mesma miss√£o

**Causa**: Eles lembram de ter feito antes.

**Esclarecimento**: Explique que:
- √â uma segunda chance (refor√ßo)
- Podem melhorar a nota/pontua√ß√£o
- Conte√∫do foi revisado em aula, agora devem ter mais facilidade

---

### Problema: Dados da miss√£o original sumiram ao reenviar

**Esclarecimento**: Dados **n√£o somem**. Reenviar cria uma **nova miss√£o** (c√≥pia independente). A miss√£o original e seus dados continuam existindo.

Para ver dados da original: Acesse "Miss√µes" (ou "Ver Arquivadas") e localize a miss√£o original.

---

## Refer√™ncias

- [Como compartilhar Miss√µes](../?path=/docs/funcionalidades-miss√µes-compartilhar--docs)
- [Miss√µes Arquivadas](../?path=/docs/funcionalidades-miss√µes-arquivadas--docs)
- [Como criar Miss√£o Personalizada](../?path=/docs/funcionalidades-miss√µes-criar-miss√£o-personalizada--docs)

---

**Fonte**: [Suporte Educacross - Reenviar Expirada](https://suporte.educacross.com.br/pt/category/missoes/article/reenviar-missao-expirada)  
**√öltima atualiza√ß√£o**: 14 de janeiro de 2026
