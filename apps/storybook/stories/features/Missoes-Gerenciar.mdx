import { Meta } from '@storybook/blocks';

<Meta title="Funcionalidades/Miss√µes/Gerenciar Miss√µes" />

# Como Editar, Excluir, Enviar ou Cancelar Miss√µes

## Vis√£o Geral

Na lista "Miss√µes", √© poss√≠vel observar todas as miss√µes criadas, acompanhar a situa√ß√£o de cada uma delas, bem como edit√°-las, exclu√≠-las e compartilh√°-las.

**Importante**: As op√ß√µes de edi√ß√£o, exclus√£o e envio est√£o dispon√≠veis **apenas para miss√µes que ainda n√£o foram enviadas** aos alunos (status "N√£o enviada").

---

## Estados de uma Miss√£o

```mermaid
stateDiagram-v2
    [*] --> NaoEnviada: Criar miss√£o
    NaoEnviada --> Enviada: Enviar
    NaoEnviada --> NaoEnviada: Editar
    NaoEnviada --> [*]: Excluir
    Enviada --> Cancelada: Cancelar
    Enviada --> Concluida: Alunos completam
```

---

## A√ß√µes Dispon√≠veis

### Interface de Gerenciamento

<div style={{
  display: 'flex',
  flexDirection: 'column',
  gap: '1.5rem',
  marginTop: '1.5rem',
  marginBottom: '2rem'
}}>

<div>
<img 
  src="/images/missoes/gerenciar-1.png" 
  alt="Coluna 'A√ß√µes' na lista de miss√µes mostrando √≠cones de enviar, editar e excluir"
  style={{
    maxWidth: '800px',
    width: '100%',
    height: 'auto',
    border: '1px solid var(--color-neutral-200)',
    borderRadius: '8px',
    boxShadow: '0 2px 4px rgba(0,0,0,0.1)'
  }}
/>
<p style={{ fontSize: '0.9rem', color: 'var(--color-neutral-600)', marginTop: '0.5rem', fontStyle: 'italic' }}>
  Figura 1: Coluna "A√ß√µes" com bot√µes de gerenciamento
</p>
</div>

<div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(350px, 1fr))', gap: '1rem' }}>
<div>
<img 
  src="/images/missoes/gerenciar-2.png" 
  alt="√çcone de enviar (envelope) destacado"
  style={{
    width: '100%',
    height: 'auto',
    border: '1px solid var(--color-neutral-200)',
    borderRadius: '8px',
    boxShadow: '0 2px 4px rgba(0,0,0,0.1)'
  }}
/>
<p style={{ fontSize: '0.85rem', color: 'var(--color-neutral-600)', marginTop: '0.5rem', fontStyle: 'italic' }}>
  Figura 2: Bot√£o "Enviar"
</p>
</div>

<div>
<img 
  src="/images/missoes/gerenciar-3.png" 
  alt="Tela de edi√ß√£o de miss√£o com campos para alterar nome, jogos e configura√ß√µes"
  style={{
    width: '100%',
    height: 'auto',
    border: '1px solid var(--color-neutral-200)',
    borderRadius: '8px',
    boxShadow: '0 2px 4px rgba(0,0,0,0.1)'
  }}
/>
<p style={{ fontSize: '0.85rem', color: 'var(--color-neutral-600)', marginTop: '0.5rem', fontStyle: 'italic' }}>
  Figura 3: Interface de edi√ß√£o
</p>
</div>

<div>
<img 
  src="/images/missoes/gerenciar-4.png" 
  alt="Modal de confirma√ß√£o de exclus√£o com aviso de a√ß√£o irrevers√≠vel"
  style={{
    width: '100%',
    height: 'auto',
    border: '1px solid var(--color-neutral-200)',
    borderRadius: '8px',
    boxShadow: '0 2px 4px rgba(0,0,0,0.1)'
  }}
/>
<p style={{ fontSize: '0.85rem', color: 'var(--color-neutral-600)', marginTop: '0.5rem', fontStyle: 'italic' }}>
  Figura 4: Confirma√ß√£o de exclus√£o
</p>
</div>

<div>
<img 
  src="/images/missoes/gerenciar-5.png" 
  alt="Op√ß√£o de cancelar miss√£o j√° enviada"
  style={{
    width: '100%',
    height: 'auto',
    border: '1px solid var(--color-neutral-200)',
    borderRadius: '8px',
    boxShadow: '0 2px 4px rgba(0,0,0,0.1)'
  }}
/>
<p style={{ fontSize: '0.85rem', color: 'var(--color-neutral-600)', marginTop: '0.5rem', fontStyle: 'italic' }}>
  Figura 5: Bot√£o "Cancelar Miss√£o"
</p>
</div>

<div>
<img 
  src="/images/missoes/gerenciar-6.png" 
  alt="Status de miss√£o cancelada na lista"
  style={{
    width: '100%',
    height: 'auto',
    border: '1px solid var(--color-neutral-200)',
    borderRadius: '8px',
    boxShadow: '0 2px 4px rgba(0,0,0,0.1)'
  }}
/>
<p style={{ fontSize: '0.85rem', color: 'var(--color-neutral-600)', marginTop: '0.5rem', fontStyle: 'italic' }}>
  Figura 6: Miss√£o com status "Cancelada"
</p>
</div>
</div>

</div>

---

### üì§ Enviar

**Quando dispon√≠vel**: Miss√£o com status "N√£o enviada"

**O que faz**: Torna a miss√£o dispon√≠vel para todos os alunos selecionados no momento da cria√ß√£o.

**Resultado**:
- ‚úÖ Miss√£o aparece para os alunos
- ‚úÖ Alunos recebem notifica√ß√£o
- ‚úÖ Status muda para "Enviada"
- ‚ùå N√£o pode mais ser editada ou exclu√≠da

**Como fazer**: Clique no √≠cone de enviar (‚úâÔ∏è) na coluna "A√ß√µes"

---

### ‚úèÔ∏è Editar

**Quando dispon√≠vel**: Miss√£o com status "N√£o enviada" ou "N√£o iniciada"

**O que pode editar**:
- Nome da miss√£o
- Jogos inclu√≠dos (adicionar/remover)
- Ordem dos jogos (se sequencial)
- Destinat√°rios
- Datas de in√≠cio e fim
- Fluxo (livre/sequencial)
- Ranking (habilitar/desabilitar)

**O que N√ÉO pode editar**: Miss√µes j√° iniciadas por pelo menos um aluno

**Como fazer**: Clique no √≠cone de editar (‚úèÔ∏è) na coluna "A√ß√µes"

```mermaid
flowchart LR
    A[Clicar em Editar] --> B[Fazer altera√ß√µes]
    B --> C{Salvar?}
    C -->|Sim| D[Miss√£o atualizada]
    C -->|N√£o| E[Cancelar edi√ß√£o]
    D --> F{Enviar agora?}
    F -->|Sim| G[Dispon√≠vel para alunos]
    F -->|N√£o| H[Continua n√£o enviada]
```

---

### üóëÔ∏è Excluir

**Quando dispon√≠vel**: Miss√£o com status "N√£o enviada" ou "N√£o iniciada"

**O que faz**: Remove a miss√£o **permanentemente** do sistema.

**Importante**: 
- ‚ùå A√ß√£o irrevers√≠vel
- ‚ùå N√£o pode ser recuperada
- ‚ùå S√≥ funciona se nenhum aluno come√ßou a jogar

**Como fazer**: Clique no √≠cone de excluir (üóëÔ∏è) na coluna "A√ß√µes"

**Confirma√ß√£o**: Sistema pedir√° confirma√ß√£o antes de excluir.

<div style={{
  padding: '1rem',
  border: '1px solid var(--color-danger-200)',
  borderRadius: '8px',
  backgroundColor: 'var(--color-danger-8)',
  marginTop: '1rem'
}}>

**‚ö†Ô∏è Aten√ß√£o**: Se voc√™ quer apenas "guardar" a miss√£o para usar depois, ao inv√©s de excluir, use a op√ß√£o **Arquivar**.

</div>

---

### ‚ùå Cancelar

**Quando dispon√≠vel**: Miss√£o **j√° iniciada** por pelo menos um aluno

**O que faz**: Cancela a miss√£o, mas **n√£o a exclui** do sistema.

**Diferen√ßa entre Excluir e Cancelar**:

| Aspecto | Excluir | Cancelar |
|---------|---------|----------|
| **Quando usar** | Antes de enviar/iniciar | Depois de iniciada |
| **O que acontece** | Remove permanentemente | Mant√©m no hist√≥rico |
| **Dados de alunos** | N/A (ningu√©m jogou) | Preservados |
| **Revers√≠vel** | N√£o | N√£o |
| **Aparece na lista** | N√£o | Sim (status "Cancelada") |

**Por que preserva**: Para que alunos que j√° jogaram n√£o percam seus dados e progresso.

**Como fazer**: Clique no √≠cone vermelho (‚ùå) na coluna "A√ß√µes"

```mermaid
flowchart TD
    A{Miss√£o foi iniciada?} -->|N√£o| B[Pode EXCLUIR]
    A -->|Sim| C[Pode apenas CANCELAR]
    B --> D[Miss√£o desaparece]
    C --> E[Miss√£o fica com status 'Cancelada']
    E --> F[Dados dos alunos preservados]
```

---

## Matriz de Permiss√µes

| A√ß√£o | N√£o Enviada | Enviada (n√£o iniciada) | Iniciada | Conclu√≠da | Expirada |
|------|-------------|------------------------|----------|-----------|----------|
| Enviar | ‚úÖ | ‚ùå | ‚ùå | ‚ùå | ‚ùå |
| Editar | ‚úÖ | ‚úÖ | ‚ùå | ‚ùå | ‚ùå |
| Excluir | ‚úÖ | ‚úÖ | ‚ùå | ‚ùå | ‚ùå |
| Cancelar | ‚ùå | ‚úÖ | ‚úÖ | ‚ùå | ‚ùå |
| Arquivar | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ |
| Compartilhar | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ |

---

## Passo a Passo Ilustrado

### Enviar Miss√£o

1. Acesse "Miss√µes"
2. Localize miss√£o com status "N√£o enviada"
3. Na coluna "A√ß√µes", clique no √≠cone de enviar (‚úâÔ∏è)
4. Confirme o envio
5. Miss√£o fica dispon√≠vel para alunos

### Editar Miss√£o

1. Acesse "Miss√µes"
2. Localize miss√£o "N√£o enviada"
3. Na coluna "A√ß√µes", clique no √≠cone de editar (‚úèÔ∏è)
4. Fa√ßa as altera√ß√µes necess√°rias
5. Clique em "Salvar"
6. Escolha "Enviar agora" ou "Enviar depois"

### Excluir Miss√£o

1. Acesse "Miss√µes"
2. Localize miss√£o "N√£o enviada"
3. Na coluna "A√ß√µes", clique no √≠cone de excluir (üóëÔ∏è)
4. **Confirme a exclus√£o** (a√ß√£o irrevers√≠vel)
5. Miss√£o √© removida da lista

### Cancelar Miss√£o

1. Acesse "Miss√µes"
2. Localize miss√£o "Iniciada" ou "Enviada"
3. Na coluna "A√ß√µes", clique no X vermelho (‚ùå)
4. Confirme o cancelamento
5. Miss√£o muda para status "Cancelada"
6. Alunos n√£o podem mais acessar, mas dados ficam preservados

---

## Casos de Uso Comuns

### Caso 1: Erro na Data

**Problema**: Configurou data de in√≠cio errada.

**Solu√ß√£o**:
1. Se n√£o foi enviada: Editar e corrigir data
2. Se j√° foi enviada mas n√£o iniciada: Cancelar e criar nova
3. Se j√° iniciada: Cancelar e criar nova com datas corretas

### Caso 2: Jogos Errados

**Problema**: Incluiu jogos errados na miss√£o.

**Solu√ß√£o**:
1. Se n√£o foi enviada: Editar, remover jogos errados, adicionar corretos
2. Se j√° iniciada: Cancelar e criar miss√£o correta

### Caso 3: Destinat√°rios Errados

**Problema**: Enviou para turma errada.

**Solu√ß√£o**:
1. Cancelar miss√£o enviada errado
2. Criar nova miss√£o para turma correta
3. (Opcional) Explicar aos alunos da turma errada que foi engano

### Caso 4: Miss√£o Duplicada

**Problema**: Criou miss√£o duplicada por engano.

**Solu√ß√£o**:
1. Se n√£o foi enviada: Excluir a duplicada
2. Se j√° foi enviada: Cancelar a duplicada

---

## Boas Pr√°ticas

### ‚úÖ Recomenda√ß√µes

1. **Revise antes de enviar**: Sempre revise todos os detalhes antes de enviar
2. **Teste em rascunho**: Crie, revise, teste os jogos, s√≥ depois envie
3. **Comunique cancelamentos**: Se cancelar miss√£o iniciada, avise os alunos
4. **Arquive ao inv√©s de excluir**: Para manter hist√≥rico

### ‚ö†Ô∏è Evite

1. **Cancelar miss√µes frequentemente**: Gera confus√£o nos alunos
2. **Editar miss√µes enviadas**: N√£o √© poss√≠vel, planeje melhor
3. **Excluir miss√µes importantes**: Use arquivar para manter registro

---

## Troubleshooting

### Problema: N√£o consigo editar miss√£o enviada

**Causa**: Miss√£o j√° foi iniciada por algum aluno.

**Solu√ß√£o**: 
- Cancele a miss√£o atual
- Crie nova miss√£o corrigida
- Avise os alunos sobre a mudan√ßa

### Problema: N√£o aparece op√ß√£o de excluir

**Causa**: Miss√£o j√° foi iniciada.

**Solu√ß√£o**: Use "Cancelar" ao inv√©s de "Excluir"

### Problema: Aluno reclama que miss√£o sumiu

**Causa**: Voc√™ cancelou a miss√£o.

**Solu√ß√£o**:
- Explique que foi cancelada
- Crie nova miss√£o se necess√°rio
- Considere arquivar ao inv√©s de cancelar no futuro

---

## Refer√™ncias

- [Como criar Miss√£o Personalizada](../?path=/docs/funcionalidades-miss√µes-criar-miss√£o-personalizada--docs)
- [Miss√µes Arquivadas](../?path=/docs/funcionalidades-miss√µes-arquivadas--docs)
- [Como compartilhar Miss√µes](../?path=/docs/funcionalidades-miss√µes-compartilhar--docs)

---

**Fonte**: [Suporte Educacross - Gerenciar Miss√µes](https://suporte.educacross.com.br/pt/category/missoes/article/editar-excluir-enviar-cancelar-missoes)  
**√öltima atualiza√ß√£o**: 14 de janeiro de 2026
